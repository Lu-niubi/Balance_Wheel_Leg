#ifndef _MOTOR_H_
#define _MOTOR_H_

#include "stdint.h"
// 包含底层驱动头文件，以便使用其中的类型定义或宏，也可以选择不包含而在.c中包含
#include "small_driver_uart_control.h" 

//-------------------------------------------------------------------------------------------------------------------
//  宏定义
//-------------------------------------------------------------------------------------------------------------------
#define MOTOR_MAX_DUTY      10000   // 电机最大占空比限制
#define MOTOR_MIN_DUTY      -10000  // 电机反转最大占空比限制

//-------------------------------------------------------------------------------------------------------------------
//  数据类型定义
//-------------------------------------------------------------------------------------------------------------------
// 如果需要封装电机状态，可以在这里定义结构体，目前简单的封装即可

//-------------------------------------------------------------------------------------------------------------------
//  函数声明
//-------------------------------------------------------------------------------------------------------------------

/**
 * @brief   电机模块初始化
 * @note    初始化串口并启动速度反馈
 */
void Motor_Init(void);

/**
 * @brief   设置左右电机占空比（带限幅保护）
 * @param   left_duty   左轮占空比 (-10000 ~ 10000)
 * @param   right_duty  右轮占空比 (-10000 ~ 10000)
 */
void Motor_Set_Duty(int16_t left_duty, int16_t right_duty);

/**
 * @brief   获取左轮实时转速
 * @return  int16_t 速度值
 */
int16_t Motor_Get_Left_Speed(void);

/**
 * @brief   获取右轮实时转速
 * @return  int16_t 速度值
 */
int16_t Motor_Get_Right_Speed(void);

#endif // _MOTOR_H_
